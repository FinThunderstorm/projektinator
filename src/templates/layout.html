<!DOCTYPE html>
<html>
{% macro title() %}
{% block title %}{% endblock %}
{% endmacro %}

<head>
    <title>Projektinator - {{ title() }}</title>
    <script src="{{ url_for('static', filename='notification.js') }}"></script>
    <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    <header class="mdc-top-app-bar mdc-top-app-bar--fixed">
        <div class="mdc-top-app-bar__row">
            <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
                <span class="mdc-top-app-bar__title">{{ title() }}</span>
            </section>
            {% if session.user %}
            <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" role="toolbar">
                <button class="mdc-top-app-bar__action-item" aria-label="Projects">Projects</button>
                <button class="mdc-top-app-bar__action-item" aria-label="Features">Features</button>
                <button class="mdc-top-app-bar__action-item" aria-label="Tasks">Tasks</button>
            </section>
            {% endif %}
        </div>
    </header>
    <main class="mdc-top-app-bar--fixed-adjust">
        <!--Sivun sis√∂lt√∂-->
        {% if session.user %}
        <!--Navigointi-->

        <div class="container">
            {% with notifications = get_flashed_messages(with_categories=true) %}
            {% if notifications %}
            {% for type, notification in notifications %}
            {% if notification != "" %}
            <div class="notification {{ type }}" name="notification">
                <button class="delete"></button>
                <strong>HOX!</strong> {{ notification }}
            </div>
            {% endif %}
            {% endfor %}
            {% endif %}
            {% endwith %}

            <hr />
            <!-- Page Content -->
            {% block content %}{% endblock %}
        </div>
    
        {% else %}
        <!-- Login form-->
        <h1 class="title">Kirjaudu sis√§√§n</h1>
        <form action="/users/login" method="POST">
            <label class="mdc-text-field mdc-text-field--filled" data-mdc-auto-init="MDCTextField">
                <span class="mdc-text-field__ripple"></span>
                <span class="mdc-floating-label" id="username">Username</span>
                <input class="mdc-text-field__input" type="text" name="username" aria-labelledby="username">
                <span class="mdc-line-ripple"></span>
            </label>

            <label class="mdc-text-field mdc-text-field--filled">
                <span class="mdc-text-field__ripple"></span>
                <span class="mdc-floating-label" id="password">Password</span>
                <input class="mdc-text-field__input" type="password" name="password" aria-labelledby="password">
                <span class="mdc-line-ripple"></span>
            </label>

            <button class="mdc-button mdc-button--raised" type="submit">
                <span class="mdc-button__label">Login</span>
            </button>

        </form>
        {% endif %}
    </main>

    <!--Footer-->
    <footer class="footer">
        <div class="footer">
            <p>Made by üçê</p>
        </div>
    </footer>
</body>

</html>